<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Irrgarten::Labyrinth
  
    &mdash; Documentation by YARD 0.9.36
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Irrgarten::Labyrinth";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (L)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Irrgarten.html" title="Irrgarten (module)">Irrgarten</a></span></span>
     &raquo; 
    <span class="title">Labyrinth</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Irrgarten::Labyrinth
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Irrgarten::Labyrinth</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>labyrinth.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Clase que representa el tablero en sí, el laberinto del juego.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Joaquin Avilés de la Fuente</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Arturo Olivares Martos</p>
</div>
      
    </li>
  
</ul>

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="BLOCK_CHAR-classvariable" class="">@@BLOCK_CHAR =
          <div class="docstring">
  <div class="discussion">
    
<p>Caracter que representa un obstáculo</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span></pre></dd>
      
        <dt id="EMPTY_CHAR-classvariable" class="">@@EMPTY_CHAR =
          <div class="docstring">
  <div class="discussion">
    
<p>Caracter que representa un espacio vacío</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span></pre></dd>
      
        <dt id="MONSTER_CHAR-classvariable" class="">@@MONSTER_CHAR =
          <div class="docstring">
  <div class="discussion">
    
<p>Caracter que representa un monstruo</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span></pre></dd>
      
        <dt id="COMBAT_CHAR-classvariable" class="">@@COMBAT_CHAR =
          <div class="docstring">
  <div class="discussion">
    
<p>Caracter que representa un combate</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span></pre></dd>
      
        <dt id="EXIT_CHAR-classvariable" class="">@@EXIT_CHAR =
          <div class="docstring">
  <div class="discussion">
    
<p>Caracter que representa la salida</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>E</span><span class='tstring_end'>&#39;</span></span></pre></dd>
      
        <dt id="ROW-classvariable" class="">@@ROW =
          <div class="docstring">
  <div class="discussion">
    
<p>Variable que representa el orden de la fila en un array con dos componentes</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>0</span></pre></dd>
      
        <dt id="COL-classvariable" class="">@@COL =
          <div class="docstring">
  <div class="discussion">
    
<p>Variable que representa el orden de la columna en un array con dos componentes</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>1</span></pre></dd>
      
        <dt id="INVALID_POS-classvariable" class="">@@INVALID_POS =
          <div class="docstring">
  <div class="discussion">
    
<p>Posición inválida</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='op'>-</span><span class='int'>1</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_block-instance_method" title="#add_block (instance method)">#<strong>add_block</strong>(orientation, start_row, start_col, length)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que coloca en el laberinto una serie de bloques.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_monster-instance_method" title="#add_monster (instance method)">#<strong>add_monster</strong>(row, col, monster)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Si la posición suministrada está dentro del tablero y está vacía, anota en el laberinto la presencia de un monstruo, guarda la referencia del monstruo en el atributo contenedor adecuado e indica al monstruo cual es su posición actual (Monster#pos).</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#can_step_on-instance_method" title="#can_step_on (instance method)">#<strong>can_step_on</strong>(row, col)  &#x21d2; boolean </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Indica si la posición suministrada está dentro del laberinto y se puede acceder; es decir, corresponde con una de estas tres opciones: casilla vacía, casilla donde habita un monstruo o salida.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#combat_pos-instance_method" title="#combat_pos (instance method)">#<strong>combat_pos</strong>(row, col)  &#x21d2; boolean </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que indica si la posición suministrada alberga un combate (jugador y monstruo).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#convert_to_fuzyy-instance_method" title="#convert_to_fuzyy (instance method)">#<strong>convert_to_fuzyy</strong>(fuzzy_player)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Dado un jugador lo añade a la tabla de jugadores.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#dir_2_pos-instance_method" title="#dir_2_pos (instance method)">#<strong>dir_2_pos</strong>(row, col, direction)  &#x21d2; int [] </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Este método calcula la posición del laberinto a la que se llegaría si desde la posición suministrada se avanza en la dirección pasada como parámetro.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#empty_pos-instance_method" title="#empty_pos (instance method)">#<strong>empty_pos</strong>(row, col)  &#x21d2; boolean </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que indica si la posición suministrada está vacía.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#exit_pos-instance_method" title="#exit_pos (instance method)">#<strong>exit_pos</strong>(row, col)  &#x21d2; boolean </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que indica si la posición suministrada es la de salida.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#have_a_winner-instance_method" title="#have_a_winner (instance method)">#<strong>have_a_winner</strong>  &#x21d2; boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que informa sobre si hay un ganador; es decir, si ningún jugador ha llegado a la salida.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(n_rows, n_cols, exit_row, exit_col)  &#x21d2; Labyrinth </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Constructor de la clase Labyrinth.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#monster_pos-instance_method" title="#monster_pos (instance method)">#<strong>monster_pos</strong>(row, col)  &#x21d2; boolean </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que indica si la posición suministrada alberga exclusivamente un monstruo.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#pos_ok-instance_method" title="#pos_ok (instance method)">#<strong>pos_ok</strong>(row, col)  &#x21d2; boolean </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que indica si la posición suministrada está dentro del tablero.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#put_player-instance_method" title="#put_player (instance method)">#<strong>put_player</strong>(direction, player)  &#x21d2; Monster </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que calcula la nueva posición a la que se desplazará el jugador, y después delega su ejecución en el método put_player2D para actualizar la posición del jugador y devolver el posible monstruo al que se enfrentará el jugador (puede ser que no haya combate y por tanto no hay monstruo) nueva casilla hay un monstruo.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#put_player2D-instance_method" title="#put_player2D (instance method)">#<strong>put_player2D</strong>(old_row, old_col, row, col, player)  &#x21d2; Monster </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que actualiza la posición del jugador pasado, a la posición dada, actualizando el estado de la casilla antigua y nueva.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#random_empty_pos-instance_method" title="#random_empty_pos (instance method)">#<strong>random_empty_pos</strong>  &#x21d2; int [] </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Utilizando el dado, genera una posición aleatoria en el laberinto (fila y columna) asegurando que esta esté vacía.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spread_players-instance_method" title="#spread_players (instance method)">#<strong>spread_players</strong>(players)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que posiciona los jugadores en el tablero, creando para ellos una posición random y vacía en él.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; string </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que genera una cadena de caracteres con la información del laberinto.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#update_old_pos-instance_method" title="#update_old_pos (instance method)">#<strong>update_old_pos</strong>(row, col)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Este método solo realiza su función si la posición suministrada está dentro del laberinto.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid_moves-instance_method" title="#valid_moves (instance method)">#<strong>valid_moves</strong>(row, col)  &#x21d2; Directions [] </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Método que obtiene una array de las direcciones válidas a partir de una posición, es decir, comprueba si nos podemos desplazar hacia las direcciones posibles, y en caso afirmativo las añade al array.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(n_rows, n_cols, exit_row, exit_col)  &#x21d2; <tt><span class='object_link'><a href="" title="Irrgarten::Labyrinth (class)">Labyrinth</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Constructor de la clase Labyrinth. Inicializa los atributos de la clase.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n_rows</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>número de filas del laberinto</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>n_cols</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>número de columnas del laberinto</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>exit_row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la salida</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>exit_col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la salida</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40
41
42
43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 37</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_n_rows'>n_rows</span><span class='comma'>,</span> <span class='id identifier rubyid_n_cols'>n_cols</span><span class='comma'>,</span> <span class='id identifier rubyid_exit_row'>exit_row</span><span class='comma'>,</span> <span class='id identifier rubyid_exit_col'>exit_col</span><span class='rparen'>)</span>
    <span class='ivar'>@n_rows</span> <span class='op'>=</span> <span class='id identifier rubyid_n_rows'>n_rows</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='ivar'>@n_cols</span> <span class='op'>=</span> <span class='id identifier rubyid_n_cols'>n_cols</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='ivar'>@exit_row</span> <span class='op'>=</span> <span class='id identifier rubyid_exit_row'>exit_row</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='ivar'>@exit_col</span> <span class='op'>=</span> <span class='id identifier rubyid_exit_col'>exit_col</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>

    <span class='ivar'>@monsters</span>  <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@n_rows</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@n_cols</span><span class='rparen'>)</span><span class='rbrace'>}</span> <span class='comment'># Matriz de monstruos
</span>    <span class='ivar'>@players</span>   <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@n_rows</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@n_cols</span><span class='rparen'>)</span><span class='rbrace'>}</span> <span class='comment'># Matriz de jugadores
</span>    <span class='ivar'>@labyrinth</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@n_rows</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@n_cols</span><span class='comma'>,</span> <span class='cvar'>@@EMPTY_CHAR</span><span class='rparen'>)</span><span class='rbrace'>}</span> <span class='comment'># Matriz del laberinto. Valor por defecto: @@EMPTY_CHAR
</span>
    <span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='ivar'>@exit_row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='ivar'>@exit_col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='cvar'>@@EXIT_CHAR</span> <span class='comment'># Pone la salida en el laberinto
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_block-instance_method">
  
    #<strong>add_block</strong>(orientation, start_row, start_col, length)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que coloca en el laberinto una serie de bloques. Destacar que en el caso de que se encuentre una casilla que no este vacía (mirar método empty_pos) se dejará de colocar bloques, aunque la siguiente casilla si este vacía</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>orientation</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Orientation.html" title="Irrgarten::Orientation (module)">Orientation</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>orientación hacia la que se colocan los  bloques</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>start_row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la casilla inicial</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>start_col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la casilla inicial</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>length</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>longitud de los bloques que se pondrán</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_block'>add_block</span><span class='lparen'>(</span><span class='id identifier rubyid_orientation'>orientation</span><span class='comma'>,</span> <span class='id identifier rubyid_start_row'>start_row</span><span class='comma'>,</span> <span class='id identifier rubyid_start_col'>start_col</span><span class='comma'>,</span> <span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
    <span class='kw'>if</span><span class='lparen'>(</span><span class='id identifier rubyid_orientation'>orientation</span><span class='op'>==</span><span class='const'>Orientation</span><span class='op'>::</span><span class='const'>VERTICAL</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_inc_row'>inc_row</span> <span class='op'>=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_inc_col'>inc_col</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_inc_row'>inc_row</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='id identifier rubyid_inc_col'>inc_col</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_row'>row</span> <span class='op'>=</span> <span class='id identifier rubyid_start_row'>start_row</span>
    <span class='id identifier rubyid_col'>col</span> <span class='op'>=</span> <span class='id identifier rubyid_start_col'>start_col</span>

    <span class='kw'>while</span> <span class='lparen'>(</span> <span class='id identifier rubyid_pos_ok'>pos_ok</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span><span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_empty_pos'>empty_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span><span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;</span><span class='int'>0</span><span class='rparen'>)</span> <span class='rparen'>)</span>
        <span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='cvar'>@@BLOCK_CHAR</span>
        <span class='id identifier rubyid_length'>length</span><span class='op'>-=</span><span class='int'>1</span>
        <span class='id identifier rubyid_row'>row</span><span class='op'>+=</span><span class='id identifier rubyid_inc_row'>inc_row</span>
        <span class='id identifier rubyid_col'>col</span><span class='op'>+=</span><span class='id identifier rubyid_inc_col'>inc_col</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_monster-instance_method">
  
    #<strong>add_monster</strong>(row, col, monster)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Si la posición suministrada está dentro del tablero y está vacía, anota en el laberinto la presencia de un monstruo, guarda la referencia del monstruo en el atributo contenedor adecuado e indica al monstruo cual es su posición actual (Monster#pos).</p>

<p>Si la posición no está vacía, no hace nada.</p>

<p>Si la posición no está dentro del tablero, no hace nada.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>monster</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Monster.html" title="Irrgarten::Monster (class)">Monster</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>monstruo que se añade al laberinto</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108
109
110
111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 105</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_monster'>add_monster</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='comma'>,</span> <span class='id identifier rubyid_monster'>monster</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_pos_ok'>pos_ok</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_empty_pos'>empty_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='cvar'>@@MONSTER_CHAR</span>
        <span class='id identifier rubyid_monster'>monster</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
        <span class='ivar'>@monsters</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_monster'>monster</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_step_on-instance_method">
  
    #<strong>can_step_on</strong>(row, col)  &#x21d2; <tt>boolean</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Indica si la posición suministrada está dentro del laberinto y se puede acceder; es decir, corresponde con una de estas tres opciones: casilla vacía, casilla donde habita un monstruo o salida</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><strong>true</strong> si la posición suministrada está dentro del laberinto y se puede acceder y <strong>false</strong> si no es así.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


259
260
261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 259</span>

<span class='kw'>def</span> <span class='id identifier rubyid_can_step_on'>can_step_on</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_pos_ok'>pos_ok</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_empty_pos'>empty_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_monster_pos'>monster_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_exit_pos'>exit_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="combat_pos-instance_method">
  
    #<strong>combat_pos</strong>(row, col)  &#x21d2; <tt>boolean</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que indica si la posición suministrada alberga un combate (jugador y monstruo)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><strong>true</strong> si la posición suministrada alberga un combate (jugador y monstruo) y <strong>false</strong> si no es así.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


249
250
251</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 249</span>

<span class='kw'>def</span> <span class='id identifier rubyid_combat_pos'>combat_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='cvar'>@@COMBAT_CHAR</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="convert_to_fuzyy-instance_method">
  
    #<strong>convert_to_fuzyy</strong>(fuzzy_player)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Dado un jugador lo añade a la tabla de jugadores</p>

<p>// TODO: Pasar a fuzzy así</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>fuzzy_player</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FuzzyPlayer.html" title="Irrgarten::FuzzyPlayer (class)">FuzzyPlayer</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>jugador fuzzy a añadir</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 198</span>

<span class='kw'>def</span> <span class='id identifier rubyid_convert_to_fuzyy'>convert_to_fuzyy</span><span class='lparen'>(</span><span class='id identifier rubyid_fuzzy_player'>fuzzy_player</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_row'>row</span> <span class='op'>=</span> <span class='id identifier rubyid_fuzzy_player'>fuzzy_player</span><span class='period'>.</span><span class='id identifier rubyid_row'>row</span>
    <span class='id identifier rubyid_col'>col</span> <span class='op'>=</span> <span class='id identifier rubyid_fuzzy_player'>fuzzy_player</span><span class='period'>.</span><span class='id identifier rubyid_col'>col</span>

    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@players</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_number'>number</span> <span class='op'>==</span> <span class='id identifier rubyid_fuzzy_player'>fuzzy_player</span><span class='period'>.</span><span class='id identifier rubyid_number'>number</span><span class='rparen'>)</span>
        <span class='ivar'>@players</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_fuzzy_player'>fuzzy_player</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dir_2_pos-instance_method">
  
    #<strong>dir_2_pos</strong>(row, col, direction)  &#x21d2; <tt>int []</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Este método calcula la posición del laberinto a la que se llegaría si desde la posición suministrada se avanza en la dirección pasada como parámetro. No es necesario realizar comprobaciones relativas a no generar posiciones fuera del laberinto.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>direction</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>dirección en la que se avanza</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>int []</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>posición a la que se llegaría si se avanza en la dirección pasada como parámetro</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 294</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dir_2_pos'>dir_2_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='comma'>,</span> <span class='id identifier rubyid_direction'>direction</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pos'>pos</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@ROW</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_row'>row</span>
    <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@COL</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_col'>col</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_direction'>direction</span>  <span class='comment'># switch en Ruby
</span>        <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Directions.html#LEFT-constant" title="Irrgarten::Directions::LEFT (constant)">LEFT</a></span></span>
            <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@COL</span><span class='rbracket'>]</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Directions.html#RIGHT-constant" title="Irrgarten::Directions::RIGHT (constant)">RIGHT</a></span></span>
            <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@COL</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Directions.html#UP-constant" title="Irrgarten::Directions::UP (constant)">UP</a></span></span>
            <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@ROW</span><span class='rbracket'>]</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Directions.html#DOWN-constant" title="Irrgarten::Directions::DOWN (constant)">DOWN</a></span></span>
            <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@ROW</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='comment'># else para caso por defecto
</span>        <span class='comment'># Importante que no hace falta break
</span>    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_pos'>pos</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty_pos-instance_method">
  
    #<strong>empty_pos</strong>(row, col)  &#x21d2; <tt>boolean</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que indica si la posición suministrada está vacía</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><strong>true</strong> si la posición suministrada está vacía y <strong>false</strong> si no lo está.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 222</span>

<span class='kw'>def</span> <span class='id identifier rubyid_empty_pos'>empty_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='cvar'>@@EMPTY_CHAR</span><span class='rparen'>)</span> <span class='comment'># &amp;&amp; (@players[row][col] == nil). No es necesario
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exit_pos-instance_method">
  
    #<strong>exit_pos</strong>(row, col)  &#x21d2; <tt>boolean</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que indica si la posición suministrada es la de salida</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><strong>true</strong> si la posición suministrada es la de salida y <strong>false</strong> si no lo es.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 240</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exit_pos'>exit_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='cvar'>@@EXIT_CHAR</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="have_a_winner-instance_method">
  
    #<strong>have_a_winner</strong>  &#x21d2; <tt>boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que informa sobre si hay un ganador; es decir, si ningún jugador ha llegado a la salida.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><strong>true</strong> si hay un ganador y <strong>false</strong> si no lo hay</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 65</span>

<span class='kw'>def</span> <span class='id identifier rubyid_have_a_winner'>have_a_winner</span>
    <span class='kw'>return</span> <span class='ivar'>@players</span><span class='lbracket'>[</span><span class='ivar'>@exit_row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='ivar'>@exit_col</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="monster_pos-instance_method">
  
    #<strong>monster_pos</strong>(row, col)  &#x21d2; <tt>boolean</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que indica si la posición suministrada alberga exclusivamente un monstruo</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><strong>true</strong> si la posición suministrada alberga exclusivamente un monstruo y <strong>false</strong> si no es así.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 231</span>

<span class='kw'>def</span> <span class='id identifier rubyid_monster_pos'>monster_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='cvar'>@@MONSTER_CHAR</span><span class='rparen'>)</span> <span class='comment'># &amp;&amp; (@players[row][col] == nil). No es necesario pq si está habrá un combate
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pos_ok-instance_method">
  
    #<strong>pos_ok</strong>(row, col)  &#x21d2; <tt>boolean</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que indica si la posición suministrada está dentro del tablero</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><strong>true</strong> si la posición suministrada está dentro del tablero y <strong>false</strong> si no lo está.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 213</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pos_ok'>pos_ok</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='int'>0</span><span class='op'>&lt;=</span><span class='id identifier rubyid_row'>row</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_row'>row</span><span class='op'>&lt;</span><span class='ivar'>@n_rows</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='int'>0</span><span class='op'>&lt;=</span><span class='id identifier rubyid_col'>col</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_col'>col</span><span class='op'>&lt;</span><span class='ivar'>@n_cols</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="put_player-instance_method">
  
    #<strong>put_player</strong>(direction, player)  &#x21d2; <tt><span class='object_link'><a href="Monster.html" title="Irrgarten::Monster (class)">Monster</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que calcula la nueva posición a la que se desplazará el jugador, y después delega su ejecución en el método put_player2D para actualizar la posición del jugador y devolver el posible monstruo al que se enfrentará el jugador (puede ser que no haya combate y por tanto no hay monstruo) nueva casilla hay un monstruo</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>direction</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>dirección a la que se quiere desplazar el jugador</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>player</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Player.html" title="Irrgarten::Player (class)">Player</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>jugador que se moverá</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Monster.html" title="Irrgarten::Monster (class)">Monster</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>posible monstruo con el que se enfrentará el jugador, si en la</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Labyrinth#put_player_2D</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128
129
130
131
132
133
134</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 124</span>

<span class='kw'>def</span> <span class='id identifier rubyid_put_player'>put_player</span><span class='lparen'>(</span><span class='id identifier rubyid_direction'>direction</span><span class='comma'>,</span> <span class='id identifier rubyid_player'>player</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_old_row'>old_row</span> <span class='op'>=</span> <span class='id identifier rubyid_player'>player</span><span class='period'>.</span><span class='id identifier rubyid_row'>row</span>
    <span class='id identifier rubyid_old_col'>old_col</span> <span class='op'>=</span> <span class='id identifier rubyid_player'>player</span><span class='period'>.</span><span class='id identifier rubyid_col'>col</span>

    <span class='id identifier rubyid_new_pos'>new_pos</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dir_2_pos'>dir_2_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_old_row'>old_row</span><span class='comma'>,</span><span class='id identifier rubyid_old_col'>old_col</span><span class='comma'>,</span><span class='id identifier rubyid_direction'>direction</span><span class='rparen'>)</span>

    <span class='comment'># Devolvemos el monstruo
</span>    <span class='id identifier rubyid_monster'>monster</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_put_player2D'>put_player2D</span><span class='lparen'>(</span><span class='id identifier rubyid_old_row'>old_row</span><span class='comma'>,</span> <span class='id identifier rubyid_old_col'>old_col</span><span class='comma'>,</span> <span class='id identifier rubyid_new_pos'>new_pos</span><span class='lbracket'>[</span><span class='cvar'>@@ROW</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_new_pos'>new_pos</span><span class='lbracket'>[</span><span class='cvar'>@@COL</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_player'>player</span><span class='rparen'>)</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_monster'>monster</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="put_player2D-instance_method">
  
    #<strong>put_player2D</strong>(old_row, old_col, row, col, player)  &#x21d2; <tt><span class='object_link'><a href="Monster.html" title="Irrgarten::Monster (class)">Monster</a></span></tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que actualiza la posición del jugador pasado, a la posición dada, actualizando el estado de la casilla antigua y nueva.</p>

<p>Destacar que se comprueba si la posición nueva es válida y, además, si el numero del jugador pasado no coincide con el que hay en @players no se cambia el estado de la casilla antigua del jugador.</p>

<p>Devuelve el monstruo de la nueva casilla si hay un combate en la posición actualizada.</p>

<p>se ha movido el jugador. Si no hay ningún monstruo en la nueva casilla se pasará nil.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>old_row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la antigua posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>old_col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>col de la antigua posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la nueva posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>col de la nueva posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>player</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Player.html" title="Irrgarten::Player (class)">Player</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>jugador cuya posición se quiere actualizar</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Monster.html" title="Irrgarten::Monster (class)">Monster</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>monstruo que se encuentra en la nueva posición (si hay combate) a la que</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 349</span>

<span class='kw'>def</span> <span class='id identifier rubyid_put_player2D'>put_player2D</span><span class='lparen'>(</span><span class='id identifier rubyid_old_row'>old_row</span><span class='comma'>,</span> <span class='id identifier rubyid_old_col'>old_col</span><span class='comma'>,</span> <span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='comma'>,</span> <span class='id identifier rubyid_player'>player</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='kw'>if</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_can_step_on'>can_step_on</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>if</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pos_ok'>pos_ok</span><span class='lparen'>(</span><span class='id identifier rubyid_old_row'>old_row</span><span class='comma'>,</span> <span class='id identifier rubyid_old_col'>old_col</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='ivar'>@players</span><span class='lbracket'>[</span><span class='id identifier rubyid_old_row'>old_row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_old_col'>old_col</span><span class='rbracket'>]</span>

            <span class='comment'># Comprobamos que el jugador pasado coincide con la casilla de
</span>            <span class='comment'># players, sino es así no se cambia el estado de la casilla antigua
</span>            <span class='comment'># del jugador
</span>            <span class='kw'>if</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='op'>==</span><span class='id identifier rubyid_player'>player</span><span class='rparen'>)</span>
                <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_update_old_pos'>update_old_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_old_row'>old_row</span><span class='comma'>,</span> <span class='id identifier rubyid_old_col'>old_col</span><span class='rparen'>)</span>
                <span class='ivar'>@players</span><span class='lbracket'>[</span><span class='id identifier rubyid_old_row'>old_row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_old_col'>old_col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='comment'># No da problema aunque la variable usada y el método se llamen igual
</span>        <span class='id identifier rubyid_monster_pos'>monster_pos</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_monster_pos'>monster_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span><span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>

        <span class='kw'>if</span><span class='lparen'>(</span><span class='id identifier rubyid_monster_pos'>monster_pos</span><span class='rparen'>)</span>
            <span class='comment'># Hay monstruo y cambiamos estado de casilla
</span>            <span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='cvar'>@@COMBAT_CHAR</span>
            <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='ivar'>@monsters</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span>
        <span class='kw'>else</span>
            <span class='comment'># Ponemos en la casilla el número del jugador
</span>            <span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_player'>player</span><span class='period'>.</span><span class='id identifier rubyid_number'>number</span>
        <span class='kw'>end</span>

        <span class='comment'># Actualizamos el array y el jugador con la nueva posición
</span>        <span class='ivar'>@players</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_player'>player</span>
        <span class='id identifier rubyid_player'>player</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span><span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>     <span class='comment'># Funciona porque son todo referencias
</span>    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="random_empty_pos-instance_method">
  
    #<strong>random_empty_pos</strong>  &#x21d2; <tt>int []</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Utilizando el dado, genera una posición aleatoria en el laberinto (fila y columna) asegurando que esta esté vacía. Genera internamente posiciones hasta que se cumple esta restricción y una vez generada se devuelve. Si no hay posiciones vacías se producirá un bucle infinito.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>int []</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>posición aleatoria en el laberinto</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319
320
321
322
323
324
325
326
327
328
329
330</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 319</span>

<span class='kw'>def</span> <span class='id identifier rubyid_random_empty_pos'>random_empty_pos</span>
    <span class='kw'>begin</span>
        <span class='id identifier rubyid_row'>row</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Dice.html" title="Irrgarten::Dice (class)">Dice</a></span></span><span class='period'>.</span><span class='id identifier rubyid_random_pos'><span class='object_link'><a href="Dice.html#random_pos-class_method" title="Irrgarten::Dice.random_pos (method)">random_pos</a></span></span><span class='lparen'>(</span><span class='ivar'>@n_rows</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_col'>col</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Dice.html" title="Irrgarten::Dice (class)">Dice</a></span></span><span class='period'>.</span><span class='id identifier rubyid_random_pos'><span class='object_link'><a href="Dice.html#random_pos-class_method" title="Irrgarten::Dice.random_pos (method)">random_pos</a></span></span><span class='lparen'>(</span><span class='ivar'>@n_cols</span><span class='rparen'>)</span>
    <span class='kw'>end</span> <span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_empty_pos'>empty_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_pos'>pos</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@ROW</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_row'>row</span>
    <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@COL</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_col'>col</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_pos'>pos</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="spread_players-instance_method">
  
    #<strong>spread_players</strong>(players)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que posiciona los jugadores en el tablero, creando para ellos una posición random y vacía en él. Delega su funcionamienot en el método put_player2D</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>players</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Player.html" title="Irrgarten::Player (class)">Player</a></span> []</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>vector de jugadores a introducir en el tablero</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Labyrinth#put_player2Dn</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_spread_players'>spread_players</span><span class='lparen'>(</span><span class='id identifier rubyid_players'>players</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_players'>players</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='id identifier rubyid_pos'>pos</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_random_empty_pos'>random_empty_pos</span> <span class='comment'># int []
</span>        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_put_player2D'>put_player2D</span><span class='lparen'>(</span><span class='cvar'>@@INVALID_POS</span><span class='comma'>,</span> <span class='cvar'>@@INVALID_POS</span><span class='comma'>,</span> <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@ROW</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_pos'>pos</span><span class='lbracket'>[</span><span class='cvar'>@@COL</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt>string</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que genera una cadena de caracteres con la información del laberinto</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>cadena de caracteres con la información del laberinto</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 72</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
    <span class='comment'># .flatten convierte la matriz dimension 2, en un array de dimensión 1
</span>    <span class='comment'># .max busca el máximo, .to_s lo pasa a string y .size devuelve el tamaño
</span>    <span class='id identifier rubyid_ancho_maximo'>ancho_maximo</span> <span class='op'>=</span> <span class='ivar'>@labyrinth</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='id identifier rubyid_ancho_maximo'>ancho_maximo</span><span class='op'>+</span><span class='int'>2</span><span class='rparen'>)</span>
    <span class='ivar'>@n_cols</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_str'>str</span><span class='op'>+=</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='id identifier rubyid_ancho_maximo'>ancho_maximo</span><span class='op'>+</span><span class='int'>2</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_str'>str</span><span class='op'>+=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_num_row'>num_row</span><span class='op'>=</span><span class='int'>0</span>

    <span class='ivar'>@labyrinth</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
        <span class='id identifier rubyid_str'>str</span><span class='op'>+=</span><span class='id identifier rubyid_num_row'>num_row</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='id identifier rubyid_ancho_maximo'>ancho_maximo</span><span class='op'>+</span><span class='int'>2</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_num_row'>num_row</span><span class='op'>+=</span><span class='int'>1</span>
        <span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cell'>cell</span><span class='op'>|</span>
            <span class='id identifier rubyid_str'>str</span> <span class='op'>+=</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='id identifier rubyid_ancho_maximo'>ancho_maximo</span><span class='op'>+</span><span class='int'>2</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_old_pos-instance_method">
  
    #<strong>update_old_pos</strong>(row, col)  &#x21d2; <tt>Object</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Este método solo realiza su función si la posición suministrada está dentro del laberinto. Si es el caso, si en esa posición el laberinto estaba indicando el estado de combate, el estado de esa casilla del laberinto pasa a indicar que simplemente hay un monstruo. En otro caso, el estado de esa casilla del laberinto pasa a indicar que está vacía.</p>

<p>Este método es llamado cuando un jugador abandona una casilla y se encarga de dejar la casilla que se abandona en el estado correcto.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la posición</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la posición</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


273
274
275
276
277
278
279
280
281
282</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 273</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_old_pos'>update_old_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_pos_ok'>pos_ok</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='comment'># Si la posición es la de un combate, pone un monstruo en la posición
</span>        <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_combat_pos'>combat_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='cvar'>@@MONSTER_CHAR</span>
        <span class='kw'>else</span> <span class='comment'># Si no, pone la posición vacía
</span>            <span class='ivar'>@labyrinth</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_col'>col</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='cvar'>@@EMPTY_CHAR</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid_moves-instance_method">
  
    #<strong>valid_moves</strong>(row, col)  &#x21d2; <tt><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span> []</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Método que obtiene una array de las direcciones válidas a partir de una posición, es decir, comprueba si nos podemos desplazar hacia las direcciones posibles, y en caso afirmativo las añade al array.</p>

<p>nos podemos desplazar desde la casilla dada</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>fila de la casilla</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>col</span>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>columna de la casilla</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span> []</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>array de las direcciones posibles hacia las que</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'labyrinth.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid_moves'>valid_moves</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span>
    <span class='comment'># Array de direcciones
</span>    <span class='id identifier rubyid_output'>output</span><span class='op'>=</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

    <span class='kw'>if</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_can_step_on'>can_step_on</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='op'>+</span><span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Directions.html#DOWN-constant" title="Irrgarten::Directions::DOWN (constant)">DOWN</a></span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_can_step_on'>can_step_on</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Directions.html#UP-constant" title="Irrgarten::Directions::UP (constant)">UP</a></span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_can_step_on'>can_step_on</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Directions.html#RIGHT-constant" title="Irrgarten::Directions::RIGHT (constant)">RIGHT</a></span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_can_step_on'>can_step_on</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_col'>col</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Directions.html" title="Irrgarten::Directions (module)">Directions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Directions.html#LEFT-constant" title="Irrgarten::Directions::LEFT (constant)">LEFT</a></span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed May  8 14:37:38 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.36 (ruby-3.0.2).
</div>

    </div>
  </body>
</html>